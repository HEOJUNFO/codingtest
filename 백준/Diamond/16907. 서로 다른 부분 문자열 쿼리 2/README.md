# [Diamond IV] 서로 다른 부분 문자열 쿼리 2 - 16907 

[문제 링크](https://www.acmicpc.net/problem/16907) 

### 성능 요약

메모리: 46284 KB, 시간: 28 ms

### 분류

자료 구조, 오프라인 쿼리, 세그먼트 트리, 문자열, 접미사 배열과 LCP 배열

### 제출 일자

2025년 2월 12일 10:17:01

### 문제 설명

<p>비어있는 문자열 S가 있다. 이때, 아래와 같이 쿼리를 수행하는 프로그램을 작성하시오.</p>

<ul>
	<li><code>c</code>: S의 가장 뒤에 문자 c를 추가한다. 이때, c는 알파벳 소문자이다.</li>
	<li><code>?</code>: S의 서로 다른 부분 문자열의 개수를 출력한다.</li>
</ul>

### 입력 

 <p>첫째 줄에 문자열 Q가 주어진다. 문자열 Q는 쿼리를 의미하며, 쿼리를 한 줄로 합친 문자열이다. 문자열은 알파벳 소문자 또는 ?로만 이루어져 있고, 길이는 200,000을 넘지 않는다. Q에 포함되어 있는 <code>?</code>의 개수는 하나 이상이다.</p>

### 출력 

 <p>?가 주어질 때마다, S의 서로 다른 부분 문자열의 개수를 출력한다.</p>

